# Staging Environment Configuration
# Extends the base configuration with staging-specific settings
# This configuration simulates production-like conditions for testing

# Inherit from base configuration
extends: environment_base.yaml

# Staging-specific output settings
output:
  file: output/staging_results.json
  compress: true

# Staging logging - production-like logging
logging:
  level: INFO
  file: logs/staging.log

# Staging performance - production-like limits
performance:
  memory_limit: 2GB
  cpu_limit: 80
  profiling: false

# Staging error handling - production-like error handling
error_handling:
  fail_fast: true
  raise_exceptions: false
  log_errors: true

# Staging testing - production-like testing
testing:
  mock_external_calls: false
  test_scenarios:
    - "happy_path"
    - "error_recovery"
    - "load_testing"

# Staging monitoring - production monitoring
monitoring:
  enable_metrics: true
  metrics_interval: 60
  enable_health_checks: true
  alert_thresholds:
    max_execution_time: 300
    error_rate_threshold: 0.05

# Staging features - stable features only
features:
  advanced_features: true
  experimental: false
  staging_overrides: true

# Staging security - production-like security
security:
  validate_inputs: true
  sanitize_outputs: true
  audit_trail: true

# Staging database - production-like database
database:
  type: postgresql
  host: "${STAGING_DB_HOST:staging-db.example.com}"
  port: 5432
  name: "${STAGING_DB_NAME:staging_codomyrmex}"
  username: "${STAGING_DB_USER}"
  password: "${STAGING_DB_PASS}"
  connection_pool:
    min_connections: 5
    max_connections: 20
    timeout: 30

# Staging API - staging server
api:
  base_url: "https://staging-api.codomyrmex.com"
  timeout: 30
  retries: 3

# Staging file system - network storage simulation
filesystem:
  input_dir: "/staging/input"
  output_dir: "/staging/output"
  temp_dir: "/staging/temp"
  max_file_size: 1073741824  # 1GB

# Staging-specific settings
staging:
  load_balancer: true
  cache_enabled: true
  cdn_integration: false
  backup_enabled: true
  monitoring_dashboard: true
