# Build Pipeline Workflow Configuration
# Demonstrates configuration for complete build, test, and deployment pipeline

# Output settings
output:
  format: json
  file: output/workflow_build_results.json
  directory: output/workflow_build

# Logging configuration
logging:
  level: INFO
  file: logs/workflow_build_example.log
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# Build Pipeline Configuration
build_pipeline:
  # Pipeline metadata
  name: "codomyrmex_build_pipeline"
  version: "1.0.0"
  description: "Complete CI/CD pipeline with build, test, containerization, and deployment"

  # Execution settings
  parallel_execution: true
  max_concurrent_jobs: 3
  timeout_minutes: 30
  fail_fast: false

  # Quality gates
  require_tests: true
  require_security_scan: false
  require_performance_tests: true
  minimum_test_coverage: 80

# Build Synthesis Settings
build_synthesis:
  # Build targets
  python_build_enabled: true
  docker_build_enabled: true
  static_build_enabled: false

  # Build environments
  primary_environment: production
  supported_environments:
    - development
    - staging
    - production

  # Dependencies and requirements
  python_version: "3.9"
  node_version: "18"
  go_version: "1.21"

# CI/CD Pipeline Settings
ci_cd_pipeline:
  # Pipeline stages
  stages:
    - checkout
    - analyze
    - test
    - build
    - containerize
    - deploy

  # Branch and tag conditions
  main_branch: "main"
  develop_branch: "develop"
  feature_branch_pattern: "feature/*"
  release_tag_pattern: "v*"

  # Deployment targets
  staging_environment: "staging"
  production_environment: "production"

# Containerization Settings
containerization:
  # Docker configuration
  registry: "registry.example.com"
  namespace: "codomyrmex"
  image_prefix: "pipeline"

  # Build optimization
  multi_stage_builds: true
  layer_caching: true
  base_image_optimization: true

  # Security scanning
  security_scan_enabled: false
  vulnerability_threshold: "high"

# Performance Monitoring Settings
performance_monitoring:
  # Metrics collection
  enabled: true
  metrics_interval_seconds: 30
  retention_days: 7

  # Performance thresholds
  cpu_threshold_percent: 80
  memory_threshold_percent: 85
  disk_threshold_percent: 90

  # Profiling settings
  function_profiling_enabled: true
  memory_profiling_enabled: true
  benchmark_iterations: 3

# Event System Settings
event_system:
  # Event configuration
  enabled: true
  event_bus_buffer_size: 1000
  event_retention_hours: 24

  # Event types to track
  tracked_events:
    - pipeline_started
    - stage_completed
    - build_succeeded
    - deployment_completed
    - error_occurred
    - performance_alert

  # Notification settings
  notifications_enabled: true
  notification_channels:
    - console
    - file
    - webhook

# Integration Settings
integration:
  # Module integrations
  build_synthesis_integration: true
  ci_cd_integration: true
  containerization_integration: true
  performance_integration: true
  event_system_integration: true
  logging_integration: true

  # Cross-module communication
  event_driven_workflow: true
  shared_configuration: true
  unified_logging: true

# Workflow Orchestration Settings
workflow_orchestration:
  # Orchestration engine
  enabled: true
  dag_execution: true
  dependency_resolution: true

  # Resource management
  resource_limits:
    cpu_cores: 4
    memory_gb: 8
    disk_gb: 50

  # Scheduling
  job_scheduling: "parallel"
  resource_contention_resolution: "queue"

# Quality Assurance Settings
quality_assurance:
  # Testing requirements
  unit_tests_required: true
  integration_tests_required: true
  performance_tests_required: true

  # Code quality
  linting_enabled: true
  code_coverage_required: true
  security_scanning_enabled: false

  # Documentation
  api_docs_generation: true
  deployment_docs_update: true

# Reporting Settings
reporting:
  # Report generation
  pipeline_reports_enabled: true
  performance_reports_enabled: true
  security_reports_enabled: false

  # Report formats
  supported_formats:
    - json
    - html
    - pdf
    - markdown

  # Report retention
  report_retention_days: 30
  archive_old_reports: true
