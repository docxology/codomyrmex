# Cursor Rules for the build_synthesis Module

## 0. Preamble
These rules are specific to the `build_synthesis` module and supplement `general.cursorrules`. Always adhere to `general.cursorrules` unless explicitly overridden here for a specific reason pertinent to this module.

## 1. Module Purpose & Context
-   **Core Functionality**: This module automates build processes and synthesizes artifacts within the Codomyrmex ecosystem.
-   **Key Technologies/Tools**: Python, build tools (make, doit), packaging tools (wheels, containers), code generation templates.
-   Refer to the module's main `README.md` for an overview.

## 2. Key Files & Structure in `build_synthesis` Module
When working within this module, pay close attention to:
-   `README.md`: High-level overview, setup, and usage of the Build Synthesis module.
-   `API_SPECIFICATION.md`: Details for programmatic interfaces (functions, classes) provided by this module.
-   `MCP_TOOL_SPECIFICATION.md`: For tools exposed via Model Context Protocol from this module.
-   `CHANGELOG.md`: All notable changes to this module must be logged here.
-   `SECURITY.md`: Specific security considerations for build processes and artifact generation.
-   `pyproject.toml`: Python dependencies (managed centrally via uv).
-   `docs/`: In-depth documentation, technical overviews, and tutorials specific to Build Synthesis.
-   `src/` (or primary Python package folders, e.g., `build_synthesis/` itself if it contains Python sources directly): Core logic of the module.
-   `tests/`: Unit and integration tests for this module.
-   `.gitignore`: Module-specific ignored files.
-   `build_manager.py`: Core build management functionality.
-   `build_orchestrator.py`: Orchestration logic for complex build pipelines.

## 3. Coding Standards & Practices for `build_synthesis`
-   **Consistency**: Adhere to existing coding styles, naming conventions, and architectural patterns found within the `build_synthesis` module.
-   **Language Specifics**: Primarily Python. Follow PEP 8. Use type hinting extensively for build configurations and artifacts.
-   **Build Process Management**: Build scripts and orchestrators should handle errors gracefully and provide clear feedback on build status.
-   **Artifact Handling**: Ensure generated artifacts are properly structured, versioned, and documented.
-   **Configuration Management**: Build configurations should be externalized and environment-aware.

## 4. Testing in `build_synthesis`
-   New features (e.g., new build targets, synthesis capabilities) or bug fixes MUST be accompanied by relevant tests in `tests/unit/` and/or `tests/integration/`.
-   Tests should cover various build scenarios, artifact generation, and error handling.
-   Use real external dependencies with environment-gated tests for deterministic behavior (Zero-Mock policy).
-   Run existing tests to ensure no regressions. Refer to `build_synthesis/tests/README.md`.

## 5. Documentation for `build_synthesis`
-   Keep this module's `README.md`, `API_SPECIFICATION.md`, `MCP_TOOL_SPECIFICATION.md`, `docs/` directory, and other relevant documentation files meticulously up-to-date.
-   Document build processes, artifact specifications, and synthesis logic clearly.
-   Include examples of build configurations and generated artifacts.

## 6. Specific Considerations for `build_synthesis`
-   **Tool Integration**: When defining MCP tools, ensure `MCP_TOOL_SPECIFICATION.md` is precise regarding build parameters, outputs, and error handling.
-   **API Design**: APIs should support flexible build configurations and provide comprehensive build status information.
-   **Security**: Build processes should validate inputs and avoid executing untrusted code during synthesis.
-   **Performance**: Optimize build processes for parallel execution and resource efficiency.

## 7. Final Check for `build_synthesis`
-   Before finalizing changes, ensure all module-specific documentation is updated.
-   Verify that all tests for this module pass.
-   Confirm that build processes produce expected artifacts and handle edge cases properly.
-   Test integration with related modules like `ci_cd_automation` and `static_analysis`.
